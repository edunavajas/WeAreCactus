<div class="p-3">
  <div class="icon-filter" style="float: right">
    <button type="button" class="btn btn-primary-finder" (click)="showFilters = !showFilters">
      <fa-icon icon="filter"></fa-icon>
    </button>
  </div>
  <h2 id="page-heading" data-cy="ProductHeading">
    <span class="titleColor" appTranslate="wearecactusApp.product.home.title">Products</span>

    <!--    <div class="d-flex justify-content-end">-->
    <!--      <button class="btn btn-info mr-2" (click)="loadPage()" [disabled]="isLoading">-->
    <!--        <fa-icon icon="sync" [spin]="isLoading"></fa-icon>-->
    <!--        <span appTranslate="wearecactusApp.product.home.refreshListLabel">Refresh List</span>-->
    <!--      </button>-->

    <!--      <button-->
    <!--        id="jh-create-entity"-->
    <!--        data-cy="entityCreateButton"-->
    <!--        class="btn btn-primary jh-create-entity create-product"-->
    <!--        [routerLink]="['/product/new']"-->
    <!--      >-->
    <!--        <fa-icon icon="plus"></fa-icon>-->
    <!--        <span appTranslate="wearecactusApp.product.home.createLabel"> Create a new Product </span>-->
    <!--      </button>-->
    <!--    </div>-->
  </h2>
  <br />
  <form name="filterForm" role="form" (ngSubmit)="filter()" [formGroup]="filtrarGroup">
    <div *ngIf="showFilters">
      <div class="card ml-4 mr-4 mb-5 mt-0">
        <div class="card-body">
          <div>
            <div class="card-header">
              <div class="col-12 row pr-0">
                <div class="col-6 negrita marginFilter pr-0">
                  <span class="marginFilter">Filter data</span>
                </div>
                <div class="col-6 d-flex flex-row-reverse pr-0">
                  <button class="btn btn-secondary size btn-find" type="submit">
                    <fa-icon icon="search"></fa-icon>
                  </button>
                  <button class="btn btn-success btn-clean size" type="button">
                    <fa-icon icon="times"></fa-icon>
                  </button>
                </div>
              </div>
            </div>
            <div class="row mt-3 mb-3 col-12 pr-0">
              <div class="col-3 mt-1">
                <label class="form-control-label">Id</label>
                <input type="text" class="form-control filter-input text-justify" name="id" id="id" formControlName="id" />
              </div>
              <div class="col-3 mt-1">
                <label class="form-control-label">Name</label>
                <input type="text" class="form-control filter-input text-justify" name="name" id="name" formControlName="name" />
              </div>
              <div class="col-3 mt-1">
                <label class="form-control-label">Description</label>
                <input
                  type="text"
                  class="form-control filter-input text-justify"
                  name="description"
                  id="description"
                  formControlName="description"
                />
              </div>
              <div class="col-3 mt-1">
                <label class="form-control-label">Color</label>
                <input type="text" class="form-control filter-input text-justify" name="color" id="color" formControlName="color" />
              </div>
              <div class="col-3 mt-1">
                <label class="form-control-label">Size</label>
                <input type="text" class="form-control filter-input text-justify" name="size" id="size" formControlName="size" />
              </div>
              <div class="col-3 mt-1">
                <label class="form-control-label">Status</label>
                <input type="text" class="form-control filter-input text-justify" name="status" id="status" formControlName="status" />
              </div>
              <div class="col-3 mt-1">
                <label class="form-control-label">Created at</label>
                <div class="d-flex">
                  <input
                    type="date"
                    class="form-control calendar-input filter-input"
                    name="dpI"
                    formControlName="createdAt"
                    ngbDatepicker
                    #di="ngbDatepicker"
                    [readOnly]="true"
                  />
                  <span class="input-group-append">
                    <button class="btn btn-outline-secondary calendar-button" (click)="di.toggle()" type="button">
                      <fa-icon icon="calendar-alt"></fa-icon>
                    </button>
                  </span>
                </div>
              </div>
              <div class="col-3 mt-1">
                <label class="form-control-label">Updated at</label>
                <div class="d-flex">
                  <input
                    type="date"
                    class="form-control calendar-input filter-input"
                    name="dpI"
                    formControlName="updatedAt"
                    ngbDatepicker
                    #df="ngbDatepicker"
                    [readOnly]="true"
                  />
                  <span class="input-group-append">
                    <button class="btn btn-outline-secondary calendar-button" (click)="df.toggle()" type="button">
                      <fa-icon icon="calendar-alt"></fa-icon>
                    </button>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>

  <div class="alert alert-warning" id="no-result" *ngIf="products?.length === 0">
    <span appTranslate="wearecactusApp.product.home.notFound">No products found</span>
  </div>

  <div class="mat-elevation-z8">
    <table mat-table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp table table-striped" [dataSource]="dataSource">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 20%; color: white; padding: 1%">Id</th>
        <td mat-cell *matCellDef="let element" style="padding-top: 0.5%">{{ element.id }}</td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 30%; color: white; padding: 1%; padding-left: 0">Name</th>
        <td mat-cell *matCellDef="let element" style="padding-top: 0.5%">{{ element.name }}</td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 100%; color: white; padding: 1%; padding-left: 0">
          Description
        </th>
        <td mat-cell *matCellDef="let element" style="padding-top: 0.5%">{{ element.description }}</td>
      </ng-container>

      <ng-container matColumnDef="color">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 30%; color: white; padding: 1%; padding-left: 0">Color</th>
        <td mat-cell *matCellDef="let element" style="padding-top: 0.5%">
          <b class="state-circle" [ngStyle]="{ 'background-color': element.color }"></b>
        </td>
      </ng-container>

      <ng-container matColumnDef="size">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 30%; color: white; padding: 1%; padding-left: 0">Size</th>
        <td mat-cell *matCellDef="let element" style="padding-top: 0.5%">{{ element.size }}</td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 30%; color: white; padding: 1%; padding-left: 0">Status</th>
        <td mat-cell *matCellDef="let element" style="padding-top: 0.5%"><img [src]="element.status | statusPipe" /></td>
      </ng-container>

      <ng-container matColumnDef="created_at">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 30%; color: white; padding: 1%; padding-left: 0">Created at</th>
        <td mat-cell *matCellDef="let element" style="padding-top: 0.5%">{{ element.createdAt | date: 'dd/MM/yyyy' }}</td>
      </ng-container>

      <ng-container matColumnDef="updated_at">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="width: 30%; color: white; padding: 1%; padding-left: 0">Updated at</th>
        <td mat-cell *matCellDef="let element" style="padding-top: 0.5%">{{ element.updatedAt | date: 'dd/MM/yyyy' }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>

  <div *ngIf="products && products.length > 0">
    <div class="row justify-content-center">
      <app-item-count [params]="{ page: page, totalItems: totalItems, itemsPerPage: itemsPerPage }"></app-item-count>
    </div>
  </div>
</div>
